<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><title>–¢–∞–±–ª–æ</title><style>@keyframes pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.1)}100%{opacity:1;transform:scale(1)}}html,body{margin:0;padding:0;height:100%;width:100%;overflow:hidden;font-family:'Segoe UI',Arial,sans-serif;user-select:none;background-color:#013220;color:#fff}.container{display:flex;justify-content:space-between;align-items:center;width:100%;height:100%;position:relative}.player-section{width:45%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.name{font-size:10vh;font-weight:700;height:15vh}.score{font-size:60vh;font-weight:900;line-height:1;width:100%;cursor:default}.match-info{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:20%;display:flex;flex-direction:column;justify-content:center;align-items:center}.sets{font-size:10vh;font-weight:700;color:#f4c724;width:100%;text-align:center}.serve-indicator-container{display:flex;width:100%;justify-content:space-around;margin-top:3vh}.serve-indicator{font-size:16vh;visibility:hidden}.serve-active{visibility:visible;animation:pulse 1.5s infinite}.game-history-center{display:flex;flex-direction:column;align-items:center;gap:1vh;margin-bottom:3vh;max-height:40vh;overflow-y:auto}.past-game{font-size:4vh;font-weight:700;color:#e0e0e0;background-color:rgba(0,0,0,.2);padding:.5vh 1.5vh;border-radius:5px}</style></head>
<body>
    <div class="container"><div class="player-section" id="player1"><div class="name">–ò–≥—Ä–æ–∫ 1</div><div class="score">0</div></div><div class="match-info"><div class="game-history-center" id="game-history-center"></div><div class="sets">0 - 0</div><div class="serve-indicator-container"><div class="serve-indicator" id="serve1">üèì</div><div class="serve-indicator" id="serve2">üèì</div></div></div><div class="player-section" id="player2"><div class="name">–ò–≥—Ä–æ–∫ 2</div><div class="score">0</div></div></div>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
  apiKey: "AIzaSyDTxZWC9Txxg4hHkpMkKOoq6eyZ-QHlCt4",
  authDomain: "gtr-cup-court-2.firebaseapp.com",
  projectId: "gtr-cup-court-2",
  storageBucket: "gtr-cup-court-2.firebasestorage.app",
  messagingSenderId: "5588116973",
  appId: "1:5588116973:web:f0c9ef08514426b2e633e4"
};
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const urlParams = new URLSearchParams(window.location.search);
        const tableId = urlParams.get('table') || '1';
        const firebasePath = `gameState_Table${tableId}`;
        const stateRef = database.ref(firebasePath);
        const scoreEls=[document.querySelector("#player1 .score"),document.querySelector("#player2 .score")],setEl=document.querySelector(".match-info .sets"),serveEls=[document.getElementById("serve1"),document.getElementById("serve2")],nameEls=[document.querySelector("#player1 .name"),document.querySelector("#player2 .name")],historyCenterEl=document.getElementById("game-history-center");
        function updateDisplay(e){const t={scores:[0,0],sets:[0,0],server:1,initialServer:1,names:["–ò–≥—Ä–æ–∫ 1","–ò–≥—Ä–æ–∫ 2"],gameHistory:[]};const a={...t,...e};scoreEls[0].textContent=a.scores[0],scoreEls[1].textContent=a.scores[1],nameEls[0].textContent=a.names[0],nameEls[1].textContent=a.names[1],setEl.textContent=a.sets[0]+" - "+a.sets[1],serveEls[0].classList.toggle("serve-active",1===a.server),serveEls[1].classList.toggle("serve-active",2===a.server),historyCenterEl.innerHTML="",a.gameHistory&&a.gameHistory.length>0&&a.gameHistory.forEach(e=>{const t=document.createElement("div");t.className="past-game",t.textContent=`${e.p1} - ${e.p2}`,historyCenterEl.appendChild(t)})}
        stateRef.on("value",e=>{updateDisplay(e.val())});
    </script>
</body>
</html>