<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>OBS –¢–∞–±–ª–æ</title>
    <style>
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
        html, body { margin: 0; padding: 0; background-color: transparent; font-family: 'Segoe UI', Arial, sans-serif; user-select: none; color: white; }
        .scoreboard-banner {
            box-sizing: border-box;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            background-color: rgba(26, 26, 46, 0.85); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            border-bottom: 3px solid #f4c724;
            height: 100px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞, —É–¥–æ–±–Ω–∞—è –¥–ª—è OBS */
        }
        .player-info { display: flex; align-items: center; width: 40%; }
        #player2 { justify-content: flex-end; }
        .name { font-size: 36px; font-weight: bold; margin: 0 15px; }
        .score { font-size: 64px; font-weight: 900; min-width: 60px; text-align: center; }
        #player1 .score { text-align: right; }
        #player2 .score { text-align: left; }
        .match-info { text-align: center; }
        .sets { font-size: 48px; font-weight: bold; color: #f4c724; }
        .serve-indicator { font-size: 40px; visibility: hidden; }
        .serve-active { visibility: visible; animation: pulse 1.5s infinite ease-in-out; }
    </style>
</head>
<body>
    <div class="scoreboard-banner">
        <div class="player-info" id="player1">
            <span class="serve-indicator" id="serve1">üèì</span>
            <span class="name">–ò–≥—Ä–æ–∫ 1</span>
            <span class="score">0</span>
        </div>
        <div class="match-info">
            <div class="sets">0 - 0</div>
        </div>
        <div class="player-info" id="player2">
            <span class="score">0</span>
            <span class="name">–ò–≥—Ä–æ–∫ 2</span>
            <span class="serve-indicator" id="serve2">üèì</span>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
  apiKey: "AIzaSyDTxZWC9Txxg4hHkpMkKOoq6eyZ-QHlCt4",
  authDomain: "gtr-cup-court-2.firebaseapp.com",
  projectId: "gtr-cup-court-2",
  storageBucket: "gtr-cup-court-2.firebasestorage.app",
  messagingSenderId: "5588116973",
  appId: "1:5588116973:web:f0c9ef08514426b2e633e4"
};
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const urlParams = new URLSearchParams(window.location.search);
        const tableId = urlParams.get('table') || '1';
        const firebasePath = `gameState_Table${tableId}`;
        const stateRef = database.ref(firebasePath);
        const scoreEls = [document.querySelector('#player1 .score'), document.querySelector('#player2 .score')];
        const setEl = document.querySelector('.match-info .sets');
        const serveEls = [document.getElementById('serve1'), document.getElementById('serve2')];
        const nameEls = [document.querySelector('#player1 .name'), document.querySelector('#player2 .name')];
        function updateDisplay(state) {
            const defaultState = {scores:[0,0],sets:[0,0],server:1,initialServer:1,names:["–ò–≥—Ä–æ–∫ 1","–ò–≥—Ä–æ–∫ 2"],gameHistory:[]};
            const currentState = {...defaultState, ...state};
            scoreEls[0].textContent = currentState.scores[0];
            scoreEls[1].textContent = currentState.scores[1];
            nameEls[0].textContent = currentState.names[0];
            nameEls[1].textContent = currentState.names[1];
            setEl.textContent = `${currentState.sets[0]} - ${currentState.sets[1]}`;
            serveEls[0].classList.toggle("serve-active", 1 === currentState.server);
            serveEls[1].classList.toggle("serve-active", 2 === currentState.server);
        }
        stateRef.on("value", (snapshot) => {
            updateDisplay(snapshot.val());
        });
    </script>
</body>
</html>